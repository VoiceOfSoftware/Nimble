import{M as O,N as b,O as w,P,Q as N,R as V,I as C,F as q,m,S as k,T as Y,U as B,V as H,j as $,W as F,X as U,Y as X,Z as L,_ as E,$ as R,a0 as z,o as h,a1 as G,a2 as Q,a3 as Z,a4 as J,p as K,q as ee,a as te}from"./Cex1gn7C.js";import{r as re,e as ae}from"./BouYdsdf.js";function ve(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}const ne=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function pe(e){return ne.includes(e)}const oe={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function he(e){return e=e.toLowerCase(),oe[e]??e}const ie=["touchstart","touchmove"];function se(e){return ie.includes(e)}const ue=["textarea","script","style","title"];function ye(e){return ue.includes(e)}function ge(e,t){if(t){const a=document.body;e.autofocus=!0,O(()=>{document.activeElement===a&&e.focus()})}}let I=!1;function ce(){I||(I=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Ee(e,t,a,o=!0){o&&a();for(var n of t)e.addEventListener(n,a);V(()=>{for(var r of t)e.removeEventListener(r,a)})}function M(e){var t=P,a=N;b(null),w(null);try{return e()}finally{b(t),w(a)}}function be(e,t,a,o=a){e.addEventListener(t,()=>M(a));const n=e.__on_r;n?e.__on_r=()=>{n(),o(!0)}:e.__on_r=()=>o(!0),ce()}const D=new Set,S=new Set;function we(e){if(!m)return;e.onload&&e.removeAttribute("onload"),e.onerror&&e.removeAttribute("onerror");const t=e.__e;t!==void 0&&(e.__e=void 0,queueMicrotask(()=>{e.isConnected&&e.dispatchEvent(t)}))}function le(e,t,a,o={}){function n(r){if(o.capture||y.call(t,r),!r.cancelBubble)return M(()=>a?.call(this,r))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?O(()=>{t.addEventListener(e,n,o)}):t.addEventListener(e,n,o),n}function me(e,t,a,o,n){var r={capture:o,passive:n},u=le(e,t,a,r);(t===document.body||t===window||t===document)&&V(()=>{t.removeEventListener(e,u,r)})}function Te(e){for(var t=0;t<e.length;t++)D.add(e[t]);for(var a of S)a(e)}function y(e){var t=this,a=t.ownerDocument,o=e.type,n=e.composedPath?.()||[],r=n[0]||e.target,u=0,d=e.__root;if(d){var l=n.indexOf(d);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var _=n.indexOf(t);if(_===-1)return;l<=_&&(u=l)}if(r=n[u]||e.target,r!==t){C(e,"currentTarget",{configurable:!0,get(){return r||a}});var T=P,c=N;b(null),w(null);try{for(var i,s=[];r!==null;){var v=r.assignedSlot||r.parentNode||r.host||null;try{var f=r["__"+o];if(f!=null&&(!r.disabled||e.target===r))if(q(f)){var[W,...j]=f;W.apply(r,[e,...j])}else f.call(r,e)}catch(g){i?s.push(g):i=g}if(e.cancelBubble||v===t||v===null)break;r=v}if(i){for(let g of s)queueMicrotask(()=>{throw g});throw i}}finally{e.__root=t,delete e.currentTarget,b(T),w(c)}}}function Le(e,t){var a=t==null?"":typeof t=="object"?t+"":t;a!==(e.__t??=e.nodeValue)&&(e.__t=a,e.nodeValue=a+"")}function fe(e,t){return x(e,t)}function ke(e,t){k(),t.intro=t.intro??!1;const a=t.target,o=m,n=h;try{for(var r=F(a);r&&(r.nodeType!==8||r.data!==U);)r=X(r);if(!r)throw L;E(!0),R(r),z();const u=x(e,{...t,anchor:r});if(h===null||h.nodeType!==8||h.data!==G)throw Q(),L;return E(!1),u}catch(u){if(u===L)return t.recover===!1&&Z(),k(),J(a),E(!1),fe(e,t);throw u}finally{E(o),R(n),re()}}const p=new Map;function x(e,{target:t,anchor:a,props:o={},events:n,context:r,intro:u=!0}){k();var d=new Set,l=c=>{for(var i=0;i<c.length;i++){var s=c[i];if(!d.has(s)){d.add(s);var v=se(s);t.addEventListener(s,y,{passive:v});var f=p.get(s);f===void 0?(document.addEventListener(s,y,{passive:v}),p.set(s,1)):p.set(s,f+1)}}};l(Y(D)),S.add(l);var _=void 0,T=B(()=>{var c=a??t.appendChild(H());return $(()=>{if(r){K({});var i=ee;i.c=r}n&&(o.$$events=n),m&&ae(c,null),_=e(c,o)||{},m&&(N.nodes_end=h),r&&te()}),()=>{for(var i of d){t.removeEventListener(i,y);var s=p.get(i);--s===0?(document.removeEventListener(i,y),p.delete(i)):p.set(i,s)}S.delete(l),c!==a&&c.parentNode?.removeChild(c)}});return A.set(_,T),_}let A=new WeakMap;function Se(e,t){const a=A.get(e);return a?(A.delete(e),a(t)):Promise.resolve()}export{ve as a,ge as b,le as c,Te as d,me as e,ce as f,pe as g,ke as h,ye as i,be as j,Ee as l,fe as m,he as n,we as r,Le as s,Se as u,M as w};
